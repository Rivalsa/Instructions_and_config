# Linux 学习笔记

## 常用指令

`pwd`查看当前所在路径

`cd`变更目录，后面可以跟相对路径，也可以跟绝对路径

`ls`列出当前目录下的子目录与子文件

> `-a`显示所有文件和目录（包括隐藏文件）
>
> `-l`使用长格式列出文件及目录信息
>
> `-r`将文件以相反的次序显示
>
> `-t`按照最后修改时间排序
>
> `-A`与`-a`大致相同，但不列出当前目录(.)和父目录(..)
>
> `-S`按照文件大小排序
>
> `-R`递归列出所有子目录

`mkdir`创建目录，后面跟创建的目录的路径

> `-p`在不存在的路径中创建目录（未存在的路径也自动创建）

`touch`创建文件，后面跟文件名。

`rmdir`删除目录，后面跟目录名，只有空目录才能被此命令删除

> `-p`连级删除一串目录，但需要都是空目录

`rm`删除文件，后面跟文件地址

> `-r`操作目录
>
> `-f`强制删除

`cp`复制文件，后面跟源文件地址和目标文件地址

> `-r`操作目录

`mv`用于移动或重命名文件，后面分别跟源文件或目录、目标文件或目录

`cat`查看文件内容

> `-n`显示行号

`tac`按照从最后一行到第一行的顺序来显示文件内容

`more`分页查看文本内容，ctrl+f或空格向下翻页，ctrl+b向上翻页

`less`分页查看文本内容，上下方向键翻页，可以查找

`head`查看文件的前10行

> -数字 查看文件的前几行

`tail`查看文件的前10行

> -数字 查看文件的后几行

`groupadd`新增一个用户组，后面跟用户组名

`useradd`新增一个用户，后面跟用户名

`chgrp`改变某文件的所属用户组，后跟用户组名和文件地址

`chown`改变某文件的所属用户，后跟用户名和文件地址

`chmod`改变文件的权限，后跟新权限和文件地址

`umask`查看或修改文件的默认权限

`which`查找PATH环境变量中出现的路径下的可执行文件，后面跟想查找的指令

`whereis`

`find`列出路径中满足条件的文件

> `-atime +n/-n`表示访问或执行时间大于或小于n天的文件
>
> `-ctime +n/-n`表示写入、更改属性（如更改所有者、权限或者链接）的时间大于或小于n天的文件
>
> `-mtime +n/-n`表示写入时间大于或小于n天的文件
>
> `-name filename`表示文件名匹配的文件
>
> `-type filetype`表示文件类型匹配的文件（文件类型包含f,b,c,d,l,s等）

## Linux系统自带目录说明

- `/bin`【binary】储存了Linux常用的指令
- `/boot`启动Linux时所需的核心文件
- `/dev`【device】储存了Linux的外部设备，在Linux中访问设备和访问文件的方式是相同的
- `/etc`储存了系统的配置文件
- `/home`每个用户都有一个自己的目录，可以理解为windows中的user文件夹
- `/lib`和`lib64`储存了系统基本的动态连接共享库，可以理解为windows中的dll文件，几乎所有应用程序都会用到这些共享库
- `/media`媒体，系统自动识别的一些设备（如U盘、光驱等），识别后，Linux会把识别的设备挂在到此目录下
- `/mnt`服务器内挂载的设备（如硬盘等）
- `/opt`留给额外安装软件的目录，默认为空
- `/proc`虚拟目录，系统内存的映射，可以通过访问此文件夹来获取系统信息，此目录的内容在内存中，可以直接修改里面的某些文件
- `/root`root账户的home目录
- `/run`此目录与/var/run是同一个目录，里面储存一些服务的PID
- `/sbin`存放系统管理员可以使用的指令
- `/srv`存储一些服务启动后需要提取的数据
- `/sys`存储与硬件驱动相关的信息
- `/tmp`用来存放一些临时文件
- `/usr`类似于Windows下的Program files目录，用户的很多应用程序和文件储存在本目录中
- `/usr/bin`存储系统用户使用的应用程序
- `/usr/sbin`存储管理员权限用户使用的应用程序
- `/var`存储了不断扩充且经常修改的内容，包括各种日志、PID文件等

## 文件类型及权限信息

在Linux文件系统中，主要有以下几种类型的文件：

- 普通文件
- 目录
- 链接文件（硬链接、软链接）
- 设备

文件的权限用3位二进制数来表示：

- 最高位表示可读
- 中间位表示可写
- 最低位表示可执行

当使用`ls -l`来列出文件时，第一列的10个字符分别表示如下内容：

第一个字符

- `-`表示这是一个普通文件
- `d`表示这是一个目录
- `i`表示这是一个链接文件
- `d`表示这是一个设备文件

第2-10个字符表示权限信息，第2-4位表示所有者用户的权限，第5-7位表示用户所属组的权限，第8-10位表示其他组的权限，其中`r`表示可读，`w`表示可写，`x`表示可执行，`-`表示无对应权限。